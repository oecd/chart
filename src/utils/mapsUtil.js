import * as R from 'ramda';

const dottedBorderNames = {
  ETH_SOM: 'ETH_SOM',
  SDN_SSD: 'SDN_SSD',
  DT5: 'DT5',
  PSE: 'PSE',
  ISR: 'ISR',
  GLH: 'GLH',
  IND: 'IND',
  IND_CHN: 'IND_CHN',
  PAK: 'PAK',
};

const dotteBorderNamesByCountry = {
  ETH: [dottedBorderNames.ETH_SOM],
  SOM: [dottedBorderNames.ETH_SOM],
  SDN: [dottedBorderNames.SDN_SSD, dottedBorderNames.DT5],
  SSD: [dottedBorderNames.SDN_SSD],
  EGY: [dottedBorderNames.DT5],
  PSE: [dottedBorderNames.PSE],
  ISR: [dottedBorderNames.PSE, dottedBorderNames.GLH],
  GLH: [dottedBorderNames.GLH],
  IND: [dottedBorderNames.IND, dottedBorderNames.IND_CHN],
  CHN: [dottedBorderNames.IND_CHN],
  PAK: [dottedBorderNames.PAK],
};

const dottedBordersByCountry = {
  [dottedBorderNames.ETH_SOM]: [
    [
      [47.91050216740379, 8.000213464889356],
      [46.37980404292736, 6.501176601099708],
      [44.89620432228094, 4.916886455957091],
      [43.93068704376503, 4.945304216408076],
      [43.047591971951704, 4.639813291559946],
      [42.8120999528015, 4.298800166148084],
      [41.83480807332808, 3.9933092412999613],
    ],
  ],
  [dottedBorderNames.SDN_SSD]: [
    [
      [24.125808233231396, 8.682239715713088],
      [24.526144665786774, 8.874059598757249],
      [25.02067790600225, 10.273634300968446],
      [25.786026968240463, 10.394409782885141],
      [26.539601429521184, 9.520563649017241],
      [27.870131337719926, 9.584503610031966],
      [28.02320115016758, 9.321639325860325],
      [28.812099414320812, 9.321639325860325],
      [29.989559510071928, 10.273634300968446],
      [30.74313397135262, 9.726592412286912],
      [31.214118009653077, 9.797636813414378],
      [32.36802890348915, 11.033809393032392],
      [32.03834007667885, 11.985804368140514],
      [33.15692716764241, 12.18472869129743],
      [33.12160336476987, 10.841989509988217],
      [33.88695242700808, 10.159963259164492],
      [34.01647303754072, 9.449519247889775],
    ],
    [
      [27.870131337719926, 9.584503610031966],
      [27.905455140592466, 10.145754378938996],
      [29.035816832513518, 10.145754378938996],
      [29.059366034428535, 9.527668089129996],
    ],
  ],
  [dottedBorderNames.DT5]: [
    [
      [35.61781876776223, 23.07583538413882],
      [35.64136796967725, 22.919537701658378],
      [36.83060266638586, 21.96754272655027],
      [33.19225097051495, 21.96754272655027],
      [33.56903820115528, 21.697574002265874],
      [34.0046984365832, 21.747305083055103],
      [34.169542849988346, 22.173571489819928],
      [34.68762529211884, 22.258824771172904],
      [34.95844111414161, 22.82007554007992],
      [35.21748233520685, 22.756135579065194],
      [35.61781876776223, 23.07583538413882],
    ],
  ],
  [dottedBorderNames.PSE]: [
    [
      [34.2284158547759, 31.316985914925517],
      [34.49923167679867, 31.60116351943541],
      [34.569879282543724, 31.544327998533426],
      [34.54633008062871, 31.508805797969693],
      [34.475682474883655, 31.4803880375187],
      [34.405034869138575, 31.409343636391235],
      [34.369711066266035, 31.359612555602006],
      [34.369711066266035, 31.309881474812777],
      [34.322612662436, 31.253045953910792],
      [34.26373965764844, 31.21752375334706],
    ],
    [
      [35.500072758187116, 31.494596917744197],
      [35.394101349569496, 31.494596917744197],
      [35.21748233520685, 31.3738214358275],
      [34.92311731126907, 31.34540367537651],
      [34.88779350839653, 31.39513475616574],
      [34.93489191222656, 31.494596917744197],
      [34.95844111414161, 31.60116351943541],
      [35.017314118929164, 31.65799904033738],
      [35.20570773424933, 31.750356761803097],
      [35.22925693616435, 31.792983402479585],
      [34.99376491701412, 31.849818923381555],
      [34.99376491701412, 32.2618764499209],
      [35.07618712371672, 32.45369633296507],
      [35.21748233520685, 32.546054054430776],
      [35.21748233520685, 32.546054054430776],
      [35.382326748612, 32.5034274137543],
      [35.41765055148454, 32.411069692288585],
      [35.55894576297467, 32.38265193183759],
    ],
  ],
  [dottedBorderNames.GLH]: [
    [
      [35.64136796967725, 33.24228918548],
      [35.794437782124874, 33.363064667396706],
      [35.865085387869954, 33.31333358660748],
      [35.87685998882745, 33.25649806570549],
      [35.95928219553005, 33.25649806570549],
      [35.99460599840256, 33.14282702390154],
      [35.94750759457253, 33.05046930243582],
      [35.99460599840256, 32.93679826063187],
      [35.95928219553005, 32.94390270074462],
      [35.935732993615005, 32.894171619955394],
      [35.865085387869954, 32.85864941939166],
      [35.7120155754223, 32.69524729679846],
      [35.67669177254976, 32.673933976460226],
      [35.61781876776223, 32.68103841657298],
      [35.65314257063474, 32.75918725781319],
      [35.61781876776223, 32.90838050018089],
      [35.60604416680471, 33.022051541984844],
      [35.664917171592265, 33.1357225837888],
      [35.664917171592265, 33.24228918548],
      [35.64136796967725, 33.24228918548],
    ],
  ],
  [dottedBorderNames.IND_CHN]: [
    [
      [91.64137012359993, 27.75766141843919],
      [92.00638275328276, 27.729243657988214],
      [92.51269059445576, 27.899750220694138],
      [93.23094125286394, 28.36153882802271],
      [93.33691266148156, 28.652820872645343],
      [93.96096651222962, 28.773596354562038],
      [94.52614735819014, 29.278011602567084],
      [95.16197580989575, 29.02935619862094],
      [96.02152167979409, 29.334847123469068],
      [96.41008351139192, 29.270907162454343],
      [96.22168989607178, 29.128818360199396],
      [96.17459149224169, 28.915685156816984],
      [96.53960412192458, 28.958311797493472],
      [96.59847712671211, 28.738074153998305],
      [96.32766130468934, 28.41837434892468],
      [96.62202632862716, 28.46810542971391],
      [96.85751834777733, 28.304703307120725],
      [97.10478496788511, 28.375747708248205],
      [97.35205158799283, 28.212345585655008],
    ],
    [
      [97.05647532913952, 27.73772726347358],
      [97.04469218742298, 27.823032698138967],
      [96.21987226726583, 28.214015940355274],
      [95.98420943293519, 28.199798367911036],
      [95.87816115748643, 28.306430161242766],
      [95.39505234710867, 28.15003686435623],
      [95.30078721337645, 27.9367732776928],
      [94.12247304172337, 27.446267028366883],
      [93.81611135709358, 27.04817499992847],
      [93.06199028723557, 26.88467291681983],
      [92.63779718544049, 26.962869565263084],
      [92.1075558081966, 26.85623777193137],
    ],
  ],
  [dottedBorderNames.IND]: [
    [
      [75.3335477974471, 32.32581641093562],
      [75.47484300893723, 32.332920851048364],
      [75.49839221085224, 32.2618764499209],
      [75.53371601372478, 32.34002529116112],
      [75.61613822042736, 32.38975637195035],
      [75.68678582617244, 32.39686081206309],
      [75.88695404245013, 32.56026293465627],
      [75.94582704723769, 32.723665057249455],
      [75.82808103766257, 32.90838050018089],
      [76.00470005202524, 32.88706717984264],
      [76.15776986447287, 32.99363378153385],
      [76.26374127309046, 33.00784266175935],
      [76.34616347979306, 33.08599150299957],
      [76.42858568649564, 33.149931464014294],
      [76.55810629702825, 33.17124478435253],
      [76.64052850373082, 33.14282702390154],
      [76.82892211905101, 33.149931464014294],
      [76.85247132096603, 33.08599150299957],
      [76.97021733054115, 33.07178262277407],
      [76.99376653245616, 32.95811158097012],
      [77.33522996022398, 32.83023165894067],
      [77.47652517171412, 32.82312721882791],
      [77.5471727774592, 32.88706717984264],
      [77.65314418607679, 32.894171619955394],
      [77.72379179182184, 32.972320461195615],
      [77.75911559469438, 32.972320461195615],
      [77.91218540714203, 32.75208281770045],
      [77.92396000809953, 32.68103841657298],
      [78.0063822148021, 32.63841177589649],
      [78.40671864735748, 32.73787393747495],
      [78.39494404639998, 32.617098455558256],
      [78.31252183969741, 32.56026293465627],
      [78.2889726377824, 32.489218533528806],
    ],
  ],
  [dottedBorderNames.PAK]: [
    [
      [73.63800525956549, 36.908180283657536],
      [73.86172267775822, 36.751882601177094],
      [73.73220206722559, 36.70925596050062],
      [73.5202592499904, 36.7376737209516],
      [73.08459901456249, 36.68794264016237],
      [73.04927521168995, 36.524540517569186],
      [72.566516572432, 36.24746735317205],
      [72.57829117338952, 35.84251426674546],
      [73.11992281743503, 35.89934978764743],
      [73.11992281743503, 35.693321024377774],
      [73.81462427392816, 35.515710021559094],
      [73.68510366339555, 35.40914341986788],
      [73.72042746626809, 35.2457412972747],
      [74.06189089403591, 35.132070255470744],
      [74.05011629307839, 34.904728171862835],
      [73.70865286531057, 34.776848249833385],
      [73.61445605765047, 34.58502836678921],
      [73.4378370432878, 34.56371504645097],
      [73.39073863945777, 34.3718951634068],
      [73.59090685573545, 33.88879323573999],
      [73.63800525956549, 33.09309594311231],
      [73.79107507201314, 33.01494710187209],
      [73.93237028350327, 33.029155982097585],
      [73.99124328829083, 32.94390270074462],
      [74.39157972084621, 32.76629169792594],
      [74.53287493233634, 32.74497837758771],
      [74.66239554286898, 32.80891833860242],
      [74.685944744784, 32.48211409341605],
      [75.05095737446683, 32.489218533528806],
      [75.3335477974471, 32.32581641093562],
    ],
    [
      [74.53287493233634, 32.74497837758771],
      [74.41512892276123, 32.972320461195615],
      [74.35625591797367, 32.972320461195615],
      [74.35625591797367, 33.09309594311231],
      [74.20318610552604, 33.11440926345055],
      [74.14431310073849, 33.22097586514176],
      [74.05011629307839, 33.25649806570549],
      [74.03834169212087, 33.292020266269226],
      [74.09721469690842, 33.30622914649472],
      [74.19141150456852, 33.34885578717121],
      [74.22673530744106, 33.540675670215386],
      [74.12076389882347, 33.640137831793844],
      [74.05011629307839, 33.647242271906585],
      [74.01479249020585, 33.796435514274286],
      [74.15608770169598, 33.83195771483802],
      [74.30915751414364, 33.895897675852744],
      [74.29738291318611, 34.030882037994935],
      [74.21496070648354, 34.06640423855867],
      [73.9441448844608, 34.05219535833317],
      [73.86172267775822, 34.1161353193479],
      [74.03834169212087, 34.208493040813615],
      [73.97946868733334, 34.35058184306856],
      [73.69687826435305, 34.35058184306856],
      [73.81462427392816, 34.45714844475976],
      [73.87349727871572, 34.45714844475976],
      [73.9441448844608, 34.68449052836767],
      [74.1678623026535, 34.69159496848042],
      [74.35625591797367, 34.81947489050987],
      [74.5917479371239, 34.79105713005888],
      [74.74481774957155, 34.67738608825493],
      [74.96853516776426, 34.68449052836767],
      [75.26290019170204, 34.670281648142186],
      [75.2275763888295, 34.60634168712746],
      [75.38064620127713, 34.542401726112736],
      [75.71033502808746, 34.53529728599998],
      [75.76920803287501, 34.49977508543625],
      [76.0753476577703, 34.63475944757844],
      [76.20486826830293, 34.58502836678921],
      [76.33438887883554, 34.71290828881866],
      [76.4874586912832, 34.74132604926965],
      [76.53455709511323, 34.79105713005888],
      [76.75827451330593, 34.727117169044156],
      [76.77004911426346, 34.947354812539324],
      [77.0408649362862, 34.96866813287756],
    ],
  ],
};

export const getDottedMapLines = (countrycodes) => {
  const relevantDottedBorders = R.compose(
    R.unnest,
    R.values,
    R.pick(R.__, dottedBordersByCountry),
    R.uniq,
    R.unnest,
    R.values,
    R.pick(countrycodes),
  )(dotteBorderNamesByCountry);

  return {
    type: 'mapline',
    lineWidth: 1.5,
    dashStyle: 'dot',
    enableMouseTracking: false,
    data: [
      {
        color: 'red',
        geometry: {
          type: 'MultiLineString',
          coordinates: relevantDottedBorders,
        },
      },
    ],
  };
};
