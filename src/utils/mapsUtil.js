import * as R from 'ramda';
import { mapTypes } from '../constants/chart';

const dottedBorderNames = {
  ETH_SOM: 'ETH_SOM',
  SDN_SSD: 'SDN_SSD',
  DT5: 'DT5',
  PSE: 'PSE',
  ISR: 'ISR',
  GLH: 'GLH',
  IND: 'IND',
  IND_CHN: 'IND_CHN',
  PAK: 'PAK',
};

const dotteBorderNamesByCountry = {
  ETH: [dottedBorderNames.ETH_SOM],
  SOM: [dottedBorderNames.ETH_SOM],
  SDN: [dottedBorderNames.SDN_SSD, dottedBorderNames.DT5],
  SSD: [dottedBorderNames.SDN_SSD],
  EGY: [dottedBorderNames.DT5],
  PSE: [dottedBorderNames.PSE],
  ISR: [dottedBorderNames.PSE, dottedBorderNames.GLH],
  GLH: [dottedBorderNames.GLH],
  IND: [dottedBorderNames.IND, dottedBorderNames.IND_CHN],
  CHN: [dottedBorderNames.IND_CHN],
  PAK: [dottedBorderNames.PAK],
};

const dottedBordersByCountry = {
  [dottedBorderNames.ETH_SOM]: [
    [
      [41.83496225409948, 3.992267123145197],
      [42.81555156090721, 4.301335318966885],
      [43.04902520538522, 4.638500623499624],
      [43.92455137217786, 4.940544542143542],
      [44.893466996761674, 4.912447433432483],
      [46.37602463919717, 6.4999340756074915],
      [47.91695069275218, 7.996105114471547],
    ],
  ],
  [dottedBorderNames.SDN_SSD]: [
    [
      [24.12598632044083, 8.684484277892572],
      [24.522891516053477, 8.874139761692241],
      [25.024859851681242, 10.27197092006758],
      [25.783649196234848, 10.398407909267355],
      [26.542438540788453, 9.520373262046668],
      [27.873238314313227, 9.583591756646562],
      [28.013322501000033, 9.323693501069236],
      [28.807132892225354, 9.323693501069236],
      [29.997848479063293, 10.27197092006758],
      [30.744964141393012, 9.724077300201863],
      [31.223585112572948, 9.79432007197952],
      [32.367605970515314, 11.03761713244402],
      [32.04074286824607, 11.985894551442364],
      [33.161416361740606, 12.182574312419796],
      [33.12639531506892, 10.840937371466588],
      [33.885184659622524, 10.159582485223332],
      [34.02526884630933, 9.45013049026901],
    ],
    [
      [29.063953901151166, 9.527397539224431],
      [29.040606536703365, 10.145533930867792],
      [27.908259360984914, 10.145533930867792],
      [27.873238314313227, 9.583591756646562],
    ],
  ],
  [dottedBorderNames.DT5]: [
    [
      [34.08363725742885, 22.002513806936],
      [34.00192148186153, 21.77071266006974],
      [33.56999523957717, 21.72856699700315],
      [33.184763726188436, 22.002513806936],
      [34.08363725742885, 22.002513806936],
    ],
    [
      [35.62456331098386, 23.147470986911777],
      [35.64791067543166, 22.915669840045517],
      [36.8386262622696, 21.967392421047172],
      [34.08363725742885, 22.002513806936],
      [34.118658304100535, 22.09382941024696],
      [34.142005668548336, 22.164072182024604],
      [34.165353032996165, 22.20621784509121],
      [34.69066873307173, 22.297533448402156],
      [34.95916342422146, 22.8594756226234],
      [35.2159844331473, 22.789232850845742],
      [35.62456331098386, 23.147470986911777],
    ],
  ],
  [dottedBorderNames.PSE]: [
    [
      [34.223721444115654, 31.316705344653094],
      [34.49221613526541, 31.59767643176371],
      [34.5739319108327, 31.541482214341592],
      [34.5505845463849, 31.513385105630526],
      [34.480542453041494, 31.478263719741697],
      [34.398826677474176, 31.415045225141803],
      [34.36380563080249, 31.358851007719686],
      [34.375479313026375, 31.309681067475317],
      [34.31711090190686, 31.2534868500532],
      [34.25874249078737, 31.21836546416437],
    ],
    [
      [35.2159844331473, 32.55297812793982],
      [35.39108966650582, 32.50380818769546],
      [35.41443703095362, 32.412492584384516],
      [35.56619489986434, 32.38439547567345],
      [35.49615280652094, 31.71708914378572],
      [35.49615280652094, 31.492312274097223],
      [35.39108966650582, 31.492312274097223],
      [35.2159844331473, 31.37289956207521],
      [34.92414237754974, 31.344802453364146],
      [34.87744764865414, 31.393972393608514],
      [34.93581605977366, 31.492312274097223],
      [34.95916342422146, 31.59767643176371],
      [35.017531835340975, 31.660894926363603],
      [35.20431075092338, 31.75221052967455],
      [35.227658115371185, 31.79435619274114],
      [34.994184470893174, 31.850550410163272],
      [34.994184470893174, 32.257958486473676],
      [35.07590024646046, 32.45463824745111],
      [35.2159844331473, 32.55297812793982],
    ],
  ],
  [dottedBorderNames.GLH]: [
    [
      [35.636236993207746, 33.24135729136085],
      [35.78799486211847, 33.36077000338286],
      [35.869710637685785, 33.31160006313849],
      [35.88138431990967, 33.26243012289414],
      [35.96310009547699, 33.26243012289414],
      [35.98644745992479, 33.143017410872126],
      [35.9514264132531, 33.05170180756118],
      [35.998121142148705, 32.93931337271693],
      [35.96310009547699, 32.93931337271693],
      [35.93975273102919, 32.897167709650326],
      [35.869710637685785, 32.8620463237615],
      [35.71795276877506, 32.69346367149513],
      [35.67125803987946, 32.679415117139605],
      [35.62456331098386, 32.68643939431737],
      [35.65958435765555, 32.76370644327279],
      [35.612889628759945, 32.9041919868281],
      [35.612889628759945, 33.01658042167235],
      [35.65958435765555, 33.13599313369436],
      [35.67125803987946, 33.24135729136085],
      [35.636236993207746, 33.24135729136085],
    ],
  ],
  [dottedBorderNames.IND_CHN]: [
    [
      [97.34332122875134, 28.21197483208072],
      [97.10984758427333, 28.373533207169338],
      [96.86470025757137, 28.30329043539168],
      [96.63122661309336, 28.464848810480284],
      [96.32771087527192, 28.422703147413692],
      [96.59620556642165, 28.738795620413136],
      [96.5378371553021, 28.963572490101633],
      [96.17595300636117, 28.92142682703504],
      [96.22264773525677, 29.12513086519025],
      [96.40942665083918, 29.272640685923328],
      [96.02419513745048, 29.328834903345445],
      [95.16034265288175, 29.026790984701528],
      [94.51829013056715, 29.27966496310109],
      [93.95795338381987, 28.7668927291242],
      [93.32757454372921, 28.654504294279953],
      [93.23418508593801, 28.359484652813798],
      [92.51041678805609, 27.895882359081277],
      [92.0084484524283, 27.72729970681491],
      [91.63489062126348, 27.755396815525962],
    ],
    [
      [97.05647532913952, 27.73972726347358],
      [97.04469218742298, 27.823032698138967],
      [96.21987226726583, 28.214015940355274],
      [95.98420943293519, 28.199798367911036],
      [95.87816115748643, 28.306430161242766],
      [95.39505234710867, 28.15003686435623],
      [95.30078721337645, 27.9367732776928],
      [94.12247304172337, 27.446267028366883],
      [93.81611135709358, 27.04817499992847],
      [93.06199028723557, 26.88467291681983],
      [92.63779718544049, 26.962869565263084],
      [92.1075558081966, 26.85623777193137],
    ],
  ],
  [dottedBorderNames.IND]: [
    [
      [75.33843023669692, 32.32820125825132],
      [75.46684074115981, 32.335225535429096],
      [75.50186178783153, 32.257958486473676],
      [75.53688283450325, 32.34224981260686],
      [75.61859861007053, 32.39141975285121],
      [75.67696702119005, 32.398444030028976],
      [75.88709330122029, 32.560002405117594],
      [75.94546171233978, 32.7215607802062],
      [75.82872489010077, 32.911216264005866],
      [76.0038301234593, 32.89014343247256],
      [76.15558799237002, 32.99550759013905],
      [76.26065113238514, 33.009556144494574],
      [76.31901954350465, 33.05872608473894],
      [76.42408268351974, 33.15004168804989],
      [76.55249318798266, 33.17111451958319],
      [76.6458826457739, 33.143017410872126],
      [76.82098787913242, 33.15004168804989],
      [76.8560089258041, 33.07979891627223],
      [76.97274574804314, 33.065750361916706],
      [76.99609311249094, 32.96038620425022],
      [77.33462989698407, 32.82692493787268],
      [77.4747140836709, 32.82692493787268],
      [77.5447561770143, 32.89014343247256],
      [77.64981931702943, 32.89014343247256],
      [77.71986141037283, 32.974434758605746],
      [77.76655613926843, 32.974434758605746],
      [77.91831400817915, 32.74965788891726],
      [77.91831400817915, 32.679415117139605],
      [78.01170346597036, 32.637269454073014],
      [78.3852612971352, 32.742633611739485],
      [78.39693497935912, 32.700487948672894],
      [78.3852612971352, 32.665366562784065],
      [78.3852612971352, 32.63024517689524],
      [78.40860866158303, 32.61619662253971],
      [78.30354552156791, 32.560002405117594],
      [78.291871839344, 32.489759633339936],
    ],
  ],
  [dottedBorderNames.PAK]: [
    [
      [73.63407263200727, 36.90802997815445],
      [73.86754627648531, 36.7534958802436],
      [73.72746208979851, 36.704325939999244],
      [73.51733580976827, 36.73944732588807],
      [73.08540956748391, 36.69027738564372],
      [73.05038852081222, 36.52169473337734],
      [72.56009386740834, 36.247747923444486],
      [72.58344123185614, 35.84033984713408],
      [73.12043061415562, 35.90355834173398],
      [73.12043061415562, 35.692830026401005],
      [73.8091778653658, 35.517223096956876],
      [73.6807673609029, 35.41185893929039],
      [73.72746208979851, 35.25030056420179],
      [74.05432519206775, 35.130887852179775],
      [74.05432519206775, 34.90611098249128],
      [73.7041147253507, 34.77967399329149],
      [73.62239894978339, 34.59001850949182],
      [73.43562003420095, 34.561921400780754],
      [73.38892530530535, 34.36524163980332],
      [73.58737790311167, 33.887590791715276],
      [73.63407263200727, 33.09384747062777],
      [73.79750418314191, 33.01658042167235],
      [73.92591468760483, 33.03062897602788],
      [73.99595678094823, 32.946337649894694],
      [74.39286197656088, 32.76370644327279],
      [74.53294616324771, 32.742633611739485],
    ],
    [
      [74.53287493233634, 32.74497837758771],
      [74.41512892276123, 32.972320461195615],
      [74.35625591797367, 32.972320461195615],
      [74.35625591797367, 33.09309594311231],
      [74.20318610552604, 33.11440926345055],
      [74.14431310073849, 33.22097586514176],
      [74.05011629307839, 33.25649806570549],
      [74.03834169212087, 33.292020266269226],
      [74.09721469690842, 33.30622914649472],
      [74.19141150456852, 33.34885578717121],
      [74.22673530744106, 33.540675670215386],
      [74.12076389882347, 33.640137831793844],
      [74.05011629307839, 33.647242271906585],
      [74.01479249020585, 33.796435514274286],
      [74.15608770169598, 33.83195771483802],
      [74.30915751414364, 33.895897675852744],
      [74.29738291318611, 34.030882037994935],
      [74.21496070648354, 34.06640423855867],
      [73.9441448844608, 34.05219535833317],
      [73.86172267775822, 34.1161353193479],
      [74.03834169212087, 34.208493040813615],
      [73.97946868733334, 34.35058184306856],
      [73.69687826435305, 34.35058184306856],
      [73.81462427392816, 34.45714844475976],
      [73.87349727871572, 34.45714844475976],
      [73.9441448844608, 34.68449052836767],
      [74.1678623026535, 34.69159496848042],
      [74.35625591797367, 34.81947489050987],
      [74.5917479371239, 34.79105713005888],
      [74.74481774957155, 34.67738608825493],
      [74.96853516776426, 34.68449052836767],
      [75.26290019170204, 34.670281648142186],
      [75.2275763888295, 34.60634168712746],
      [75.38064620127713, 34.542401726112736],
      [75.71033502808746, 34.53529728599998],
      [75.76920803287501, 34.49977508543625],
      [76.0753476577703, 34.63475944757844],
      [76.20486826830293, 34.58502836678921],
      [76.33438887883554, 34.71290828881866],
      [76.4874586912832, 34.74132604926965],
      [76.53455709511323, 34.79105713005888],
      [76.75827451330593, 34.727117169044156],
      [76.77004911426346, 34.947354812539324],
      [77.0408649362862, 34.96866813287756],
    ],
  ],
};

export const getDottedMapLines = (countrycodes, mapType) => {
  if (mapType !== mapTypes.normal.value) {
    return null;
  }

  const relevantDottedBorders = R.compose(
    R.unnest,
    R.values,
    R.pick(R.__, dottedBordersByCountry),
    R.uniq,
    R.unnest,
    R.values,
    R.pick(countrycodes),
  )(dotteBorderNamesByCountry);

  return R.isEmpty(relevantDottedBorders)
    ? null
    : {
        type: 'mapline',
        lineWidth: 1,
        dashStyle: 'dot',
        enableMouseTracking: false,
        data: [
          {
            color: 'red',
            geometry: {
              type: 'MultiLineString',
              coordinates: relevantDottedBorders,
            },
          },
        ],
      };
};
